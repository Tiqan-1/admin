import{o as d,e as f,r as p,s as n}from"./index-A-adSsHM.js";import{l as r}from"./lessons-DYwd4km6.js";const t={title:"",type:"",url:""};function E(u){const[i]=d();t.subjectId=i.get("programId")??void 0;const l=f({mutationFn:o=>(console.log("mutationFn",o),o.id!==void 0?r.update(o.id,o.data):r.create(o.data)),onSuccess:()=>{console.log("onSuccess"),s(o=>({...o,show:!1,okDisabled:!1})),u()},onError(o,e,a){console.log("onError",o,e,a),s(m=>({...m,okDisabled:!1}))}}),[c,s]=p.useState({formValue:{...t},title:n("common.create"),show:!1,okDisabled:!1,onOk:(o,e)=>{console.log("onOk",o,e),l.mutate({id:o,data:e}),s(a=>({...a,okDisabled:!0}))},onCancel:()=>{s(o=>({...o,show:!1}))}});return{modalProps:c,setModalProps:s,onCreate:o=>{s(e=>({...e,show:!0,...t,title:n("common.create"),formValue:{...t,parentId:(o==null?void 0:o.id)??""}}))},onEdit:o=>{s(e=>({...e,show:!0,title:n("common.edit"),formValue:o}))},mutation:l}}export{E as useLessonModal};
