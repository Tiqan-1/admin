import{F as l,r as b,b as f,j as e,s,y,g as i}from"./index-A-adSsHM.js";import{s as F}from"./subjects-BekdBd7s.js";import{S as p}from"./index-BFZDyYVH.js";function w({title:u,show:c,formValue:t,okDisabled:d,onOk:m,onCancel:j}){const[r]=l.useForm();b.useEffect(()=>{r.setFieldsValue({...t})},[t,r]);const{data:o}=f({queryKey:["subjects"],queryFn:()=>F.get({}),refetchOnWindowFocus:!1}),h=o==null?void 0:o.items.map(({id:a,name:n})=>({value:a,label:e.jsx("span",{children:n})})),x=[{value:"video",label:e.jsx("span",{children:s("app.lessons.types.video")})},{value:"pdf",label:e.jsx("span",{children:s("app.lessons.types.pdf")})},{value:"other",label:e.jsx("span",{children:s("app.lessons.types.other")})}];return e.jsxs(y,{forceRender:!0,title:u,open:c,okButtonProps:{autoFocus:!0,htmlType:"submit",disabled:d},okText:t.id===void 0?s("common.create"):s("common.edit"),cancelText:s("common.cancel"),onCancel:j,modalRender:a=>e.jsx(l,{form:r,initialValues:t,onFinish:n=>m(t.id,n),labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",children:a}),children:[!t.id&&e.jsx(l.Item,{label:s("app.fields.subject"),name:"subjectId",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:h})}),e.jsx(l.Item,{label:s("app.fields.title"),name:"title",rules:[{required:!0}],children:e.jsx(i,{})}),e.jsx(l.Item,{label:s("app.fields.file type"),name:"type",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:x})}),e.jsx(l.Item,{label:s("app.fields.url"),name:"url",rules:[{required:!0},{type:"url"}],children:e.jsx(i,{})})]})}export{w as default};
