import{e as c,r as f,s}from"./index-A-adSsHM.js";import{p as i}from"./programs--VM-mSYa.js";const r={name:"",description:"",start:"",end:"",registrationStart:"",registrationEnd:""};function k(l,m){const n=c({mutationFn:t=>t.id!==void 0?i.update(t.id,t.data):i.create(t.data),onSuccess:()=>{o(t=>({...t,show:!1,okDisabled:!1})),m()},onError(t,e,a){console.log("onError",t,e,a),o(d=>({...d,okDisabled:!1}))}}),[u,o]=f.useState({formValue:{...r},title:s("common.create"),forUpload:l,show:!1,okDisabled:!1,onOk:(t,e)=>{n.mutate({id:t,data:e}),o(a=>({...a,okDisabled:!0}))},onCancel:()=>{o(t=>({...t,show:!1}))}});return{modalProps:u,setModalProps:o,onCreate:t=>{o(e=>({...e,show:!0,...r,title:s("common.create"),formValue:{...r,parentId:(t==null?void 0:t.id)??""}}))},onEdit:(t,e=void 0)=>{o(a=>({...a,show:!0,title:e??s("common.edit"),formValue:t}))},mutation:n}}export{k as useProgramModal};
