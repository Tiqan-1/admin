import{q as g,F as c,b as u,j as e,r as y,s as t,R as S,C as p,S as v,B as h}from"./index-BdQtXFIb.js";import{a as q}from"./levels-DocYTlfs.js";import{s as w}from"./subjects-CT4RS3MH.js";import{C}from"./index-Bu2J6l7H.js";import{S as f}from"./index-1CAj6Hqy.js";const A=g(r=>({filters:{page:1,pageSize:10},setFilters:s=>r({filters:s}),updateFilter:s=>r(a=>({filters:{...a.filters,...s}})),clearFilters:()=>r({filters:{page:1,pageSize:10}})}));function I({okDisabled:r}){const[s]=c.useForm(),{filters:a,setFilters:j,clearFilters:x}=A(),{data:o}=u({queryKey:["levels"],queryFn:()=>q.get({}),refetchOnWindowFocus:!1}),{data:m}=u({queryKey:["subjects"],queryFn:()=>w.get({}),refetchOnWindowFocus:!1}),i=o==null?void 0:o.items.map(({id:l,name:d})=>({value:l,label:e.jsx("span",{children:d})}));i==null||i.unshift({value:"",label:e.jsx("span",{children:""})});const n=m==null?void 0:m.items.map(({id:l,name:d})=>({value:l,label:e.jsx("span",{children:d})}));n==null||n.unshift({value:"",label:e.jsx("span",{children:""})}),y.useEffect(()=>{s.setFieldsValue({...a})},[a,s]);const F=l=>{j({...l,page:1})},b=()=>{s.resetFields(),x()};return e.jsxs(C,{prefix:"Search",children:[e.jsx("h3",{children:t("common.search")}),e.jsx("br",{}),e.jsx(c,{form:s,onFinish:F,disabled:r,initialValues:a,children:e.jsxs(S,{gutter:[16,16],children:[e.jsx(p,{span:24,lg:6,children:e.jsx(c.Item,{label:t("app.fields.level"),name:"levelId",className:"!mb-0",children:e.jsx(f,{showSearch:!0,options:i})})}),e.jsx(p,{span:24,lg:6,children:e.jsx(c.Item,{label:t("app.fields.subject"),name:"subjectId",className:"!mb-0",children:e.jsx(f,{showSearch:!0,options:n})})}),e.jsx(p,{span:24,lg:12,children:e.jsx("div",{className:"flex justify-end",children:e.jsxs(v,{children:[e.jsx(h,{onClick:b,children:t("common.reset")}),e.jsx(h,{type:"primary",htmlType:"submit",className:"ml-4",children:t("common.search")})]})})})]})})]})}const B=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{I as A,B as a,A as u};
