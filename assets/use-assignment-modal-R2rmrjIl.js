import{o as c,e as p,r as g,i as r,s as n,w as f,x as I}from"./index-BdQtXFIb.js";const s={programId:"",levelId:"",subjectId:"",title:"",state:I.draft,type:f.exam,passingScore:10,durationInMinutes:60,availableFrom:"",availableUntil:""};function b(u){const[i]=c();s.levelId=i.get("levelId")??void 0,s.subjectId=i.get("subjectId")??void 0;const l=p({mutationFn:e=>(console.log("mutationFn",e),e.id!==void 0?r.update(e.id,e.data):r.create(e.data)),onSuccess:()=>{t(e=>({...e,show:!1,okDisabled:!1})),u()},onError(e,a,o){console.log("onError",e,a,o),t(m=>({...m,okDisabled:!1}))}}),[d,t]=g.useState({initialValues:{...s},title:n("common.create"),show:!1,okDisabled:!1,onOk:(e,a)=>{l.mutate({id:e,data:a}),t(o=>({...o,okDisabled:!0}))},onCancel:()=>{t(e=>({...e,show:!1}))}});return{modalProps:d,setModalProps:t,onCreate:e=>{t(a=>({...a,show:!0,...s,title:n("common.create"),initialValues:{...s,parentId:(e==null?void 0:e.id)??""}}))},onEdit:e=>{t(a=>({...a,show:!0,title:n("common.edit"),initialValues:e}))},mutation:l}}export{b as useAssignmentModal};
