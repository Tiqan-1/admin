import{o as d,e as f,r as p,s as n}from"./index-BdQtXFIb.js";import{a as l}from"./levels-DocYTlfs.js";const t={name:"",start:"",end:""};function E(m){const[u]=d();t.programId=u.get("programId")??void 0;const r=f({mutationFn:o=>(console.log("mutationFn",o),o.id!==void 0?l.update(o.id,o.data):l.create(o.data)),onSuccess:()=>{console.log("onSuccess"),a(o=>({...o,show:!1,okDisabled:!1})),m()},onError(o,e,s){console.log("onError",o,e,s),a(c=>({...c,okDisabled:!1}))}}),[i,a]=p.useState({formValue:{...t},title:n("common.create"),show:!1,okDisabled:!1,onOk:(o,e)=>{console.log("onOk",o,e),r.mutate({id:o,data:e}),a(s=>({...s,okDisabled:!0}))},onCancel:()=>{a(o=>({...o,show:!1}))}});return{modalProps:i,setModalProps:a,onCreate:o=>{a(e=>({...e,show:!0,...t,title:n("common.create"),formValue:{...t,parentId:(o==null?void 0:o.id)??""}}))},onEdit:o=>{a(e=>({...e,show:!0,title:n("common.edit"),formValue:o}))},mutation:r}}export{E as useLevelModal};
