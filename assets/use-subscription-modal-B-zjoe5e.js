import{k as a,_ as l,e as m,r as b,s as i}from"./index-BdQtXFIb.js";const f=e=>a.get({url:"/subscriptions/v2",params:e,headers:{"ngrok-skip-browser-warning":"true"}}),g=e=>a.post({url:"/subscriptions",data:e}),k=e=>a.get({url:l("/subscriptions/:id",{id:e})}),w=(e,n)=>a.put({url:l("/subscriptions/:id",{id:e}),data:n}),h=e=>a.delete({url:l("/subscriptions/:id",{id:e})}),c={get:f,show:k,create:g,update:w,destroy:h},u={state:"",notes:""};function S(e){const n=m({mutationFn:t=>t.id!==void 0?c.update(t.id,t.data):c.create(t.data),onSuccess:()=>{o(t=>({...t,show:!1,okDisabled:!1})),e()},onError(t,s,r){console.log("onError",t,s,r),o(p=>({...p,okDisabled:!1}))}}),[d,o]=b.useState({formValue:{...u},title:i("common.create"),show:!1,okDisabled:!1,onOk:(t,s)=>{n.mutate({id:t,data:s}),o(r=>({...r,okDisabled:!0}))},onCancel:()=>{o(t=>({...t,show:!1}))}});return{modalProps:d,setModalProps:o,onCreate:t=>{o(s=>({...s,show:!0,...u,title:i("common.create"),formValue:{...u,parentId:(t==null?void 0:t.id)??""}}))},onEdit:t=>{o(s=>({...s,show:!0,title:i("common.edit"),formValue:t}))},mutation:n}}const C=Object.freeze(Object.defineProperty({__proto__:null,useSubscriptionModal:S},Symbol.toStringTag,{value:"Module"}));export{c as a,C as b,S as u};
