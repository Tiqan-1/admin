import{F as n,r as h,b as u,j as e,R as C,C as m,s as t,S as I,B as x}from"./index-BdQtXFIb.js";import{a as w}from"./levels-DocYTlfs.js";import{p as q}from"./programs-CXoUo4uA.js";import{C as R}from"./index-Bu2J6l7H.js";import{S as j}from"./index-1CAj6Hqy.js";function P({formValue:o,okDisabled:f,onSearch:g,onClear:F}){var p;const[a]=n.useForm(),[d,y]=h.useState(void 0),{data:i}=u({queryKey:["levels",d],queryFn:()=>w.get({programId:d}),refetchOnWindowFocus:!1}),b=u({queryKey:["programs"],queryFn:()=>q.get(),refetchOnWindowFocus:!1}),r=i==null?void 0:i.items.map(({id:s,name:c})=>({value:s,label:e.jsx("span",{children:c})}));r==null||r.unshift({value:"",label:e.jsx("span",{children:""})}),h.useEffect(()=>{a.setFieldsValue({...o})},[o,a]);const v=()=>{a.resetFields(),F()},l=(p=b.data)==null?void 0:p.items.map(({id:s,name:c})=>({value:s,label:e.jsx("span",{children:c})}));l==null||l.unshift({value:"",label:e.jsx("span",{children:""})});const S=s=>{y(s)};return e.jsx(R,{children:e.jsx(n,{form:a,onFinish:g,disabled:f,initialValues:{...o},children:e.jsxs(C,{gutter:[16,16],children:[e.jsx(m,{span:24,lg:6,children:e.jsx(n.Item,{label:t("app.fields.program"),name:"programId",children:e.jsx(j,{showSearch:!0,options:l,onChange:S})})}),e.jsx(m,{span:24,lg:6,children:e.jsx(n.Item,{label:t("app.fields.level"),name:"levelId",className:"!mb-0",children:e.jsx(j,{showSearch:!0,options:r})})}),e.jsx(m,{span:24,lg:12,children:e.jsx("div",{className:"flex justify-end",children:e.jsxs(I,{children:[e.jsx(x,{onClick:v,children:t("common.reset")}),e.jsx(x,{type:"primary",htmlType:"submit",className:"ml-4",children:t("common.search")})]})})})]})})})}export{P as default};
